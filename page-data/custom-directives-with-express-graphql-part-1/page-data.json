{"componentChunkName":"component---src-templates-single-post-js","path":"/custom-directives-with-express-graphql-part-1","result":{"data":{"mdx":{"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Custom directives with express-graphql [Part-1]\",\n  \"slug\": \"custom-directives-with-express-graphql-part-1\",\n  \"date\": \"29-06-2021\",\n  \"featureImage\": \"feature.jpg\",\n  \"excerpt\": \"Initiating the project structure and defining the app architecture.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h3\", {\n    \"id\": \"starting-points\"\n  }, \"Starting points\"), mdx(\"p\", null, \"The project is divided in 3 parts. If you already have a project setup and would like to\\nonly see how custom directives can be implemented using express-graphql, jump to\\npart 3 which can be found below:\"), mdx(\"p\", null, \"Final code: \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pineapple45/custom-directives-with-express-graphql/tree/schema-splitting-part-3\"\n  }, \"Link\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Part-2: \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/blog/custom-directives-with-express-graphql-part-2\"\n  }, \"Link\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Part-3: \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"/blog/custom-directives-with-express-graphql-part-3\"\n  }, \"Link\"))), mdx(\"p\", null, \"The first 2 parts are just building blocks where the whole project setup is done.\\nThe app that we are working on is kind of like instagram ( \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"i call it photos!\"), \" ). The functionality of the app includes\\nthe following:\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Create posts\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Each post can be liked\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Each posts can be commented upon\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Only admin can create posts\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Admin has all permissions\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"There will be a Moderator assigned by admin that can moderate posts\\nand comments on each post\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Unauthenticated users can only view posts\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Authenticated users can view , like and comment on posts created by admins. Note only admins can create posts! If you want\\nto give normal users the ability to create posts, you can do that also. But I have not added that functionality.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"Only Admin can view the users list and has the ability to update roles of any single user\\nto any of the following roles:\", mdx(\"ul\", {\n    parentName: \"li\"\n  }, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"ADMIN\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"MODERATOR\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"AUTHENTICATED_USER\"))))), mdx(\"p\", null, \"In total we will use 3 custom directives. 2 to check if user is authenticated as well as\\nauthorised.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"@isAuthenticated\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"@hasAuthorisation(role: Role)\")), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"@upperCase\"), \" This simple custom directive will just convert\\nheadings to uppercase when queried from frontend.\")), mdx(\"h3\", {\n    \"id\": \"initialising-the-server\"\n  }, \"Initialising the server\"), mdx(\"p\", null, \"I used typescript for this project, but pure javascript can also be used as per your convenience.\\nThe dependencies to be used are as follows:\"), mdx(\"h4\", {\n    \"id\": \"core-dependencies\"\n  }, \"core dependencies\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"    \\\"@types/jsonwebtoken\\\": \\\"^8.5.2\\\",\\n    \\\"bcrypt\\\": \\\"^5.0.1\\\",\\n    \\\"cors\\\": \\\"^2.8.5\\\",\\n    \\\"express\\\": \\\"^4.17.1\\\",\\n    \\\"express-graphql\\\": \\\"^0.12.0\\\",\\n    \\\"graphql\\\": \\\"14.6.0\\\",\\n    \\\"graphql-directive\\\": \\\"^0.2.1\\\",\\n    \\\"jsonwebtoken\\\": \\\"^8.5.1\\\",\\n    \\\"mongoose\\\": \\\"^5.12.14\\\"\\n\")), mdx(\"h4\", {\n    \"id\": \"devdependencies\"\n  }, \"devDependencies\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"   \\\"@types/bcrypt\\\": \\\"^5.0.0\\\",\\n    \\\"@types/cors\\\": \\\"^2.8.10\\\",\\n    \\\"@types/express\\\": \\\"^4.17.12\\\",\\n    \\\"@types/mongoose\\\": \\\"^5.11.97\\\",\\n    \\\"@types/node\\\": \\\"^15.12.4\\\",\\n    \\\"dotenv\\\": \\\"^10.0.0\\\",\\n    \\\"nodemon\\\": \\\"^2.0.7\\\",\\n    \\\"rimraf\\\": \\\"^3.0.2\\\",\\n    \\\"typescript\\\": \\\"^4.3.4\\\"\\n\")), mdx(Note, {\n    note: \"Please not the version number for 'graphql' package and to specifically use 14.6.0, as I was having a couple of problems with newer version of 'graphql' package.\",\n    mdxType: \"Note\"\n  }), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"yarn init\\nyarn add\\n\")), mdx(\"p\", null, \"The basic folder structure for the whole project will be as follows:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"server\\n-dist\\n-node_modules\\n-src\\n--graphql\\n---directives\\n---resolvers\\n---schemas\\n--models\\n-index.ts\\n-.env\\n-package.json\\n-tsconfig.json\\nyarn.lock\\n\")), mdx(\"h3\", {\n    \"id\": \"folder-structure-breakdown\"\n  }, \"Folder structure breakdown\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"dist\"), \"-- folder contains the compiled javascript files generated by tsc compiler.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"node_modules\"), \"-- contains the source files related to the dependencies that we installed earlier.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"src\"), \"-- is the primary folder where our code will reside.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"graphql\"), \"-- folder consists of schemas, resolvers and directive-resolver that will be used a bit later on.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"models\"), \"-- folder consists of schema for our mongodb database.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, mdx(\"strong\", {\n    parentName: \"li\"\n  }, \"index.ts\"), \"-- is the starting file for our server. Everything will be initialised from here.\")), mdx(\"p\", null, \"The structure might not be clear right now but will get clearer later on.\\nAlso initially we will be using only one schema file for defining out graphql\\nqueries and mutations. Later on we will divide the schema into seperate files\\n(schema splitting).\"), mdx(\"p\", null, \"Lets install the dependencies for now.\"), mdx(\"h3\", {\n    \"id\": \"running-the-project-for-the-first-time\"\n  }, \"Running the project for the first time\"), mdx(\"p\", null, \"For running the project, there are two main commands:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"yarn start\\n// or\\nnpm start\\n\")), mdx(\"p\", null, \"The command above executes \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"tsc --watch\"), \" internally ans spins up the typescript compiler.\\nYou should see the \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"dist\"), \" folder being generated as specified in tsconfig.json\\nThe next command is\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"yarn dev\\n// or\\nnpm run dev\\n\")), mdx(\"p\", null, \"This run nodemon dist/index.js and keeps the server running and tracks all the changes on the go.\"), mdx(Note, {\n    note: \"I usually prefer to run 'start' and 'dev' simultaneously on 2 seperate terminals. Its just my preference. You can probabily combine these 2 commands and run them in one single terminal also.\",\n    mdxType: \"Note\"\n  }), mdx(\"h3\", {\n    \"id\": \"connecting-to-monogdb-and-adding-mongoose-schema\"\n  }, \"Connecting to monogdb and adding mongoose schema\"), mdx(\"p\", null, \"The index.ts file in \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"src\"), \" directory after adding connecting to mongodb will look something like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"import * as dotenv from \\\"dotenv\\\"\\ndotenv.config()\\nimport express, { Express } from \\\"express\\\"\\nimport mongoose from \\\"mongoose\\\"\\nconst app: Express = express()\\n\\nconst PORT =\\n  process.env.NODE_ENV === \\\"production\\\"\\n    ? process.env.PORT\\n    : process.env.PORT_DEV\\n\\nconst MONGO_URI = process.env.MONGO_URI as string\\n\\nmongoose\\n  .connect(MONGO_URI, { useNewUrlParser: true, useUnifiedTopology: true })\\n  .then(() => {\\n    console.log(\\\"connected to mongodb...\\\")\\n    app.listen(PORT, () => {\\n      console.log(`server started on port ${PORT}`)\\n    })\\n  })\\n  .catch(err => {\\n    console.log(err)\\n  })\\n\")), mdx(\"h3\", {\n    \"id\": \"adding-environment-variables\"\n  }, \"Adding environment variables\"), mdx(\"p\", null, \"The environment variables file will look somthing like this. While moving to production,\\nyou can simply update these here and code will update automagically.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-env\"\n  }, \"NODE_ENV=\\\"developement\\\"\\nPORT_DEV=4000\\nMONGO_URI=\\\"mongodb+srv://test:<password>@cluster0.kzxvi.mongodb.net/myFirstDatabase?retryWrites=true&w=majority\\\"\\n\")), mdx(\"p\", null, \"After starting the project, the output will look something like this:\\nyarn dev\\n\", mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"713px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/blog/static/fed1e915ef8b198b719750fdbed39bc3/01267/1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"29.333333333333332%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAA4ElEQVQY042P606DQBBG+yYW2AUWSsulcinLsiySKH3/5zmGGo3GmvrjZCb5kjPz7Zwz2GmgOp/IiwNJKhDyiSj27xJG3p/Zxu5lMUxOY8aO9bqgdUdRZoSRjwy9LzbRp+z7/kv4th6Zl4xeKwaT0F0SyiomLwRFKTjlH/OQBaSH4PGHzim0jmjbkMkpRhsxTTHWKuo6pCwlVSVvB5L0H5XnVTDMgt4K5qugGwR2kUyvEu18GuPRjwF1I1HK/1H7rrC5FLR9xWAbzs2RustpupLePBOn+xuR2iOk91C2Cd8BYxy17ofHs8IAAAAASUVORK5CYII=')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"yarn-dev\",\n    \"title\": \"yarn-dev\",\n    \"src\": \"/blog/static/fed1e915ef8b198b719750fdbed39bc3/01267/1.png\",\n    \"srcSet\": [\"/blog/static/fed1e915ef8b198b719750fdbed39bc3/5a46d/1.png 300w\", \"/blog/static/fed1e915ef8b198b719750fdbed39bc3/0a47e/1.png 600w\", \"/blog/static/fed1e915ef8b198b719750fdbed39bc3/01267/1.png 713w\"],\n    \"sizes\": \"(max-width: 713px) 100vw, 713px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \"), \"\\nyarn start\\n\", mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"571px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/blog/static/949f39d238d56d7477ae938af4b46298/17d73/2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"15.666666666666668%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAnElEQVQI1z2OWQ4DIQxD5yhdZ2OAQIAZlo9Wau9/JFehaj+eYlmW48GSwh+n4L1GKRFHDmA2SIdHqQm5BJBT4GCRS4Tnb068+3jCOJ0xzRcMxi4QtBFmkNsQEyFEgmfTC0QLltZeIPp3nd+wrDfMy7WXDvLJeQ0iBfJbD9UakXPoWlZwMNgz4/FsaC31hWl3ODKjth2v9wPMui/9AFALXoGRtJ32AAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"yarn-start\",\n    \"title\": \"yarn-start\",\n    \"src\": \"/blog/static/949f39d238d56d7477ae938af4b46298/17d73/2.png\",\n    \"srcSet\": [\"/blog/static/949f39d238d56d7477ae938af4b46298/5a46d/2.png 300w\", \"/blog/static/949f39d238d56d7477ae938af4b46298/17d73/2.png 571w\"],\n    \"sizes\": \"(max-width: 571px) 100vw, 571px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(Checkpoint, {\n    checkpoint: \"The code till now can be found here\",\n    repoLink: \"https://github.com/pineapple45/custom-directives-with-express-graphql/tree/initial-files-and-folders-part-1\",\n    mdxType: \"Checkpoint\"\n  }), mdx(\"h3\", {\n    \"id\": \"adding-mongoose-schema\"\n  }, \"Adding mongoose schema\"), mdx(\"p\", null, \"After connecting to database. Now it's time for creating mongoose models that will represent how our data will be saved in database.\\nFor this I will create the models folder inside src directory and create 4 models:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"User\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Post\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Like\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Comment\")), mdx(\"p\", null, \"In each of these 4 folders, I added 2 files: \", \"[Model]\", \".ts & index.ts\"), mdx(\"p\", null, \"This would look something like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\"\n  }, \"-src\\n--models\\n---User\\n----User.ts\\n----index.ts\\n---Post\\n----Post.ts\\n----index.ts\\n---Like\\n----Like.ts\\n----index.ts\\n---Comment\\n----Comment.ts\\n----index.ts\\n\")), mdx(\"p\", null, \"The code for these files is as shown below:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"/* User.ts */\\nimport { Schema, model } from \\\"mongoose\\\"\\n\\nexport enum Role {\\n  ADMIN = \\\"ADMIN\\\",\\n  MODERATOR = \\\"MODERATOR\\\",\\n  AUTH_USER = \\\"AUTH_USER\\\",\\n}\\n\\ninterface UserSchemaType {\\n  username: string\\n  email: string\\n  password: string\\n  role: string\\n}\\n\\nconst userSchema = new Schema<UserSchemaType>({\\n  username: {\\n    type: String,\\n    required: true,\\n    unique: true,\\n  },\\n  email: {\\n    type: String,\\n    required: true,\\n    unique: true,\\n  },\\n  password: {\\n    type: String,\\n    requried: true,\\n    min: [6, \\\"password must be greater or equal to 6 characters\\\"],\\n  },\\n  role: {\\n    type: String,\\n    default: Role.AUTH_USER,\\n  },\\n})\\n\\nexport default model(\\\"User\\\", userSchema)\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"/* Post.ts */\\nimport { Schema, model } from \\\"mongoose\\\"\\n\\ninterface PostType {\\n  image: string\\n  title: string\\n  description: string\\n  creatorId: string\\n}\\n\\nconst postSchema = new Schema<PostType>({\\n  image: {\\n    type: String,\\n    required: false,\\n  },\\n  title: {\\n    type: String,\\n    required: true,\\n  },\\n  description: {\\n    type: String,\\n    required: false,\\n  },\\n  creatorId: {\\n    type: Schema.Types.ObjectId,\\n    ref: \\\"User\\\",\\n  },\\n})\\n\\nexport default model(\\\"Post\\\", postSchema)\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"/* Comment.ts */\\nimport { Schema, model } from \\\"mongoose\\\"\\n\\ninterface CommentType {\\n  text: string\\n  postId: string\\n  creatorId: string\\n}\\n\\nconst commentSchema = new Schema({\\n  text: {\\n    type: String,\\n    required: true,\\n  },\\n  postId: {\\n    type: Schema.Types.ObjectId,\\n    ref: \\\"Post\\\",\\n  },\\n  creatorId: {\\n    type: Schema.Types.ObjectId,\\n    ref: \\\"User\\\",\\n  },\\n})\\n\\nexport default model(\\\"Comment\\\", commentSchema)\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-ts\"\n  }, \"/* Like.ts */\\nimport { Schema, model } from \\\"mongoose\\\"\\n\\ninterface LikeType {\\n  postId: string\\n  creatorId: string\\n}\\n\\nconst LikeSchema = new Schema<LikeType>({\\n  postId: {\\n    type: Schema.Types.ObjectId,\\n    ref: \\\"Post\\\",\\n  },\\n  creatorId: {\\n    type: Schema.Types.ObjectId,\\n    ref: \\\"User\\\",\\n  },\\n})\\n\\nexport default model(\\\"Like\\\", LikeSchema)\\n\")), mdx(Checkpoint, {\n    checkpoint: \"The code till now can be found here\",\n    repoLink: \"https://github.com/pineapple45/custom-directives-with-express-graphql/tree/mongodb-schema-setup-part-1/\",\n    mdxType: \"Checkpoint\"\n  }), mdx(\"p\", null, \"In the next part we will configure graphql and instantiate the graphql schema along\\nwith its resolvers. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/blog/custom-directives-with-express-graphql-part-2\"\n  }, \"Part-2 ->\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#starting-points","title":"Starting points"},{"url":"#initialising-the-server","title":"Initialising the server","items":[{"url":"#core-dependencies","title":"core dependencies"},{"url":"#devdependencies","title":"devDependencies"}]},{"url":"#folder-structure-breakdown","title":"Folder structure breakdown"},{"url":"#running-the-project-for-the-first-time","title":"Running the project for the first time"},{"url":"#connecting-to-monogdb-and-adding-mongoose-schema","title":"Connecting to monogdb and adding mongoose schema"},{"url":"#adding-environment-variables","title":"Adding environment variables"},{"url":"#adding-mongoose-schema","title":"Adding mongoose schema"}]},"headings":[{"depth":3,"value":"Starting points"},{"depth":3,"value":"Initialising the server"},{"depth":4,"value":"core dependencies"},{"depth":4,"value":"devDependencies"},{"depth":3,"value":"Folder structure breakdown"},{"depth":3,"value":"Running the project for the first time"},{"depth":3,"value":"Connecting to monogdb and adding mongoose schema"},{"depth":3,"value":"Adding environment variables"},{"depth":3,"value":"Adding mongoose schema"}],"frontmatter":{"date":"29-06-2021","excerpt":"Initiating the project structure and defining the app architecture.","slug":"custom-directives-with-express-graphql-part-1","title":"Custom directives with express-graphql [Part-1]","featureImage":{"publicURL":"/blog/static/1b289d874439805d34eead0c1756920b/feature.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEDBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABy6yMRiD/xAAZEAACAwEAAAAAAAAAAAAAAAAAAgERICH/2gAIAQEAAQUCGSieY//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAABESAi/9oACAEBAAY/AhaTmv8A/8QAGhABAAEFAAAAAAAAAAAAAAAAEQABICFBUf/aAAgBAQABPyEnDBxqUIs//9oADAMBAAIAAwAAABDAD//EABYRAAMAAAAAAAAAAAAAAAAAAAEQYf/aAAgBAwEBPxAxf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEAAQUAAAAAAAAAAAAAAAERACAxQXGR/9oACAEBAAE/ECi0O8MztsvDl2hnJo//2Q==","aspectRatio":1.5384615384615385,"src":"/blog/static/1b289d874439805d34eead0c1756920b/14b42/feature.jpg","srcSet":"/blog/static/1b289d874439805d34eead0c1756920b/f836f/feature.jpg 200w,\n/blog/static/1b289d874439805d34eead0c1756920b/2244e/feature.jpg 400w,\n/blog/static/1b289d874439805d34eead0c1756920b/14b42/feature.jpg 800w,\n/blog/static/1b289d874439805d34eead0c1756920b/47498/feature.jpg 1200w,\n/blog/static/1b289d874439805d34eead0c1756920b/0e329/feature.jpg 1600w,\n/blog/static/1b289d874439805d34eead0c1756920b/ee1b0/feature.jpg 1721w","sizes":"(max-width: 800px) 100vw, 800px"}}}}}},"pageContext":{"id":"f3907bca-bcce-5b16-9172-29709ba26266"}},"staticQueryHashes":["2933417362","3079204723"]}